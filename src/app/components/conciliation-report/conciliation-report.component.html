<app-navbar></app-navbar>

<div class="container">
    <div class="row" style="width: 100%;">
        <div class="col-md-10" style="margin-left: 9.8%;">
            <div class="alert alert-primary title-opc" role="alert">
                <strong>PROCESAR</strong> - Reporte Conciliación
            </div>
            <div class="mce-container row">
    
                <!-- Search by Date form -->
                <div style="margin-left: 3%; margin-top: 2%;">
                    <app-date-range [(dateRange)]="dateRange"></app-date-range>
                </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md">
            <input #startDate type="date" id="fechaStart" [ngModel]="fechaStart">
        </div>
        <div class="col-md">
            <input #endDate type="date" id="fechaEnd" [ngModel]="fechaEnd">
        </div>
        <div class="col-md">
            <!-- <button (click)="searchByDate();" type="button" class="btn btn-outline-primary">
                Buscar mediante intervalo de fechas
            </button> -->
            <button (click)="clicked();" type="button" class="btn btn-outline-primary">
                Test
            </button>
        </div>
    </div>
</div>

<div class="container">
                <div style="margin-top: 2%; margin-left: 5px;">
                    <select [(ngModel)]="dateType" class="browser-default custom-select">
                        <option selected disabled>Tipo de fecha</option>
                        <option value="PROCESAR">Resultados PROCESAR</option>
                        <option value="PAYMENT">Pago de Líneas de Captura</option>
                    </select>
                </div>
    
                <!-- Search by Month -->
                <div style="margin-top: 2%; margin-left: 30px;">
                    <select [(ngModel)]="month" class="browser-default custom-select">
                        <option selected disabled>Mes</option>
                        <option value="1">Enero</option>
                        <option value="2">Febrero</option>
                        <option value="3">Marzo</option>
                        <option value="4">Abril</option>
                        <option value="5">Mayo</option>
                        <option value="6">Junio</option>
                        <option value="7">Julio</option>
                        <option value="8">Agosto</option>
                        <option value="9">Septiembre</option>
                        <option value="10">Octubre</option>
                        <option value="11">Noviembre</option>
                        <option value="12">Diciembre</option>
                    </select>
                </div>
                <div style="margin-top: 2%; margin-left: 5px;">
                    <select [(ngModel)]="monthType" class="browser-default custom-select">
                        <option selected disabled>Concepto</option>
                        <option value="PROCESAR">Resultados PROCESAR</option>
                        <option value="PAYMENT">Pago de Líneas de Captura</option>
                    </select>
                </div>
                <div style="margin-top: 2%; margin-left: 5px;">
                    <button (click)="searchByMonth();" type="button" class="btn btn-outline-primary">
                        Buscar
                    </button>
                </div>
    
            </div>
            <br>
            <div *ngIf="incompleteForm" class="alert alert-primary alert-dismissible fade show" role="alert">
                <strong>Completa el formulario de búsqueda</strong>
            </div>
            <div *ngIf="noContentAvailable" class="alert alert-info alert-dismissible fade show" role="alert">
                <strong>No se encontraron registros</strong>
            </div>
            <div *ngIf="contentAvailable">
                <p>
                    Reporte : {{parameters.start_date}} {{parameters.end_date}} {{parameters.month}}
                </p>
                <table class="table">
                    <thead class="thead-light">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Cantidad de Lineas recibidas</th>
                        <th scope="col">Importe de Lineas Recibidas</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let row of rows">
                        <th scope="row">{{row.id}}</th>
                        <td>{{row.date}}</td>
                        <td>{{row.total_lines}}</td>
                        <td>${{row.total_import}}</td>
                        <td></td>
                    </tr>
                    <tr>
                        <th scope="row"></th>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td><a href="{{url}}" target="_blank">
                            <button type="button" class="btn btn-success">Exportar</button>
                        </a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

