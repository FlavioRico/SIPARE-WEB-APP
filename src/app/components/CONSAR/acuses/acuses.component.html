<app-navbar></app-navbar>
<ngx-spinner
  bdColor="rgba(51,51,51,0.5)"
  size="large"
  color="#fff"
  type="ball-scale-multiple"
>
    <p style="font-size: 20px; color: white">Cargando...</p>
</ngx-spinner>

<div class="container">
  
  <div class="alert alert-primary title-opc" role="alert">
        <strong>CONSAR</strong> - Reporte diario de recaudación
  </div>

  <div *ngIf="!acusesExists" class="alert alert-warning" role="alert">
		<h4 class="alert-heading">Atención</h4>
		<hr>
		<p class="mb-0">No existen reportes para mostrar.</p>
  </div>

  <div *ngIf="acusesExists" class="table-responsive" style="text-align: center; font-size: smaller;">
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col" class="customTable" style="background: white; color: black; border-bottom: 1px solid grey; border-top: 1px solid grey;">
            Fecha de envío
          </th>
          <th scope="col" class="customTable" style="background: white; color: black; border-bottom: 1px solid grey; border-top: 1px solid grey;">
            Nombre archivo CONSAR
          </th>
          <th scope="col" class="customTable" style="background: white; color: black; border-bottom: 1px solid grey; border-top: 1px solid grey; border-right: 1px solid grey;">Reporte enviado</th>

          <th scope="col" class="customTable" style="background: white; color: black; border-bottom: 1px solid grey; border-top: 1px solid grey;">
            Nombre del acuse
          </th>
          <th scope="col" class="customTable" style="background: white; color: black; border-bottom: 1px solid grey; border-top: 1px solid grey;">
            Acuse
          </th>
          <th scope="col" class="customTable" style="background: white; color: black; border-bottom: 1px solid grey; border-top: 1px solid grey;">
            Fecha de Acuse
          </th>
          <th scope="col" class="customTable" style="background: white; color: black; border-bottom: 1px solid grey; border-top: 1px solid grey;">
            Respuesta
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let acuse of acuses">
          <td>{{ acuse.dispatchDate }}</td>
          <td>{{ acuse.reportName }}</td>
          <td style="border-right: 1px solid grey;">
            <button (click)="downloadContent(acuse.alfrescoReportId, acuse.reportName)" type="button" class="btn btn-outline-success">
              Descargar
            </button>
          </td>
          
          <td>{{ acuse.consarReplayFileName }}</td>
          <td>
            <button *ngIf="acuse.consarReplayFileName != null" (click)="downloadContent(acuse.consarReplyAlfrescoId, acuse.consarReplyAlfrescoName)" type="button" class="btn btn-outline-success">
              Descargar
            </button>
          </td>
          <td>{{ acuse.consarReplyDate }}</td>
          <td>{{ acuse.reply }}</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>